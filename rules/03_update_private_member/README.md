Can the schema update function somehow be a friend of the target class?
